<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Polybar 的配置笔记"><meta name="keywords" content="polybar"><meta name="author" content="Yychi,guyueshui002@gmail.com"><meta name="copyright" content="Yychi"><title>Polybar 的配置笔记 | 水阙</title><link rel="shortcut icon" href="/blog_archive/cali.png"><link rel="stylesheet" href="/blog_archive/css/index.css?version=1.6.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.0"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?a37e52e4ac68b7bedc09537444f68899";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-132747551-1', 'auto');
ga('send', 'pageview');</script><script>var GLOBAL_CONFIG = { 
  root: '/blog_archive/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#由浅入深"><span class="toc-number">1.</span> <span class="toc-text">由浅入深</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#了解构造"><span class="toc-number">2.</span> <span class="toc-text">了解构造</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#摄入取景"><span class="toc-number">3.</span> <span class="toc-text">摄入取景</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#内存和-CPU-模块"><span class="toc-number">3.1.</span> <span class="toc-text">内存和 CPU 模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#电池模块"><span class="toc-number">3.2.</span> <span class="toc-text">电池模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MPD-模块"><span class="toc-number">3.3.</span> <span class="toc-text">MPD 模块</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-number">4.</span> <span class="toc-text">总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-number">5.</span> <span class="toc-text">Reference</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://guyueshui.github.io/assets/avatar.png"></div><div class="author-info__name text-center">Yychi</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/blog_archive/archives"><span class="pull-left">Articles</span><span class="pull-right">37</span></a><a class="author-info-articles__tags article-meta" href="/blog_archive/tags"><span class="pull-left">Tags</span><span class="pull-right">39</span></a><a class="author-info-articles__categories article-meta" href="/blog_archive/categories"><span class="pull-left">Categories</span><span class="pull-right">3</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">Links</div><a class="author-info-links__name text-center" href="https://ruanzz.github.io">Ryan's Blog</a><a class="author-info-links__name text-center" href="http://www.matrix67.com/blog/">Matrix67</a><a class="author-info-links__name text-center" href="links">More...</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://s2.ax1x.com/2019/02/19/kgD6g0.png)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/blog_archive/">水阙</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/blog_archive/sketch">札记</a><a class="site-page" href="/blog_archive/tricks">Tricks</a><a class="site-page" href="/blog_archive/archives">Archives</a><a class="site-page" href="/blog_archive/tags">Tags</a><a class="site-page" href="/blog_archive/about">About</a></span></div><div id="post-info"><div id="post-title">Polybar 的配置笔记</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-01-16</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/blog_archive/categories/Techniques/">Techniques</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>前略。</p>
<p>今年早些时候，从 Gnome 换到 i3，原因是因为原来的 gnome 被我弄崩溃了。一时难以解决，又想到之前好几次隐约感觉到 gnome 的不稳定，一气之下决定换一个轻量，稳定的，可定制的窗口管理工具。至于为什么换 i3？去知乎吸收一下各个管理器间的哲学就知道了。以前从 Windows 转 Linux，也是这么过来的，知乎真是个好地方！</p>
<p>换成 i3 之后，经过一番配置，桌面终于有点样子了。但是看了一眼 i3 默认的状态栏，emmm…，有点不堪入目。几经搜索之下，发现了这款名为 polybar 的状态栏工具。起初，我被他的描述深深吸引了：</p>
<blockquote>
<p><a href="https://github.com/jaagr/polybar" title="Polybar" target="_blank" rel="noopener">Polybar</a>: A fast and easy-to-use status bar.</p>
</blockquote>
<p>事实上它并不是那么 easy-to-use，至少对我这个一开始接触它的人来说。我甚至不知道如何开启它（可能我真的太笨了:(）。然后我开始在网上寻找一些现成的配置，结果不是报错，就是乱码。那些看着好看的配置，你拿过来却用不了。这很气人，然后就告一段落了。我顶着简陋的 i3bar 用了好几个月。直到最近闲下来，要想起来这位老朋友，这才拿出来叙叙旧。</p>
<blockquote>
<p>有些事情，你当时攻不下来。那就先放一放，择日再战有奇效。</p>
</blockquote>
<a id="more"></a>
<h2 id="由浅入深"><a href="#由浅入深" class="headerlink" title="由浅入深"></a>由浅入深</h2><p>这次呢，我从一个最简单的例子入手。从<a href="https://forum.archlabslinux.com/t/show-us-your-polybar/159/10" target="_blank" rel="noopener">这里</a>找到一个既好看，又简约的模板：</p>
<p><img src="https://forum.archlabslinux.com/uploads/default/original/1X/13132e9654f0c10ed9c696caa501a40acc7e62fe.png" alt="Image adapted from ref"></p>
<p>我将对应的配置复制到我自己的配置文件（<code>~/.config/polybar/config</code>）中:<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[bar/bar]</span></span><br><span class="line"><span class="attr">background</span> = #D93d3c3b</span><br><span class="line"><span class="attr">foreground</span> = #b6a49b</span><br><span class="line"><span class="attr">width</span>                    = <span class="number">24</span>%</span><br><span class="line"><span class="attr">height</span>                   = <span class="number">70</span></span><br><span class="line"><span class="attr">radius</span>                   = <span class="number">15</span></span><br><span class="line"><span class="attr">line-size</span>                = <span class="number">0</span></span><br><span class="line"><span class="attr">bottom</span>                   = <span class="literal">true</span></span><br><span class="line"><span class="attr">border-bottom-size</span>       = <span class="number">0</span></span><br><span class="line"><span class="attr">padding-left</span>             = <span class="number">0</span></span><br><span class="line"><span class="attr">padding-right</span>            = <span class="number">0</span></span><br><span class="line"><span class="comment">#module-margin-left       = 1</span></span><br><span class="line"><span class="comment">#module-margin-right      = 1</span></span><br><span class="line"></span><br><span class="line"><span class="attr">fixed-center</span> = <span class="literal">true</span></span><br><span class="line"><span class="attr">font-0</span> = San Francisco Display Regular:size=<span class="number">24</span>;<span class="number">1</span></span><br><span class="line"><span class="attr">font-1</span> = unifont:fontformat=<span class="literal">true</span>type:size=<span class="number">24</span>:antialias=<span class="literal">false</span>;<span class="number">0</span></span><br><span class="line"><span class="attr">font-2</span> = <span class="string">"MaterialIcons:size=24:antialias=false;1"</span></span><br><span class="line"><span class="attr">font-3</span> = <span class="string">"icomoon-extended-ultra:size=24:antialias=false;1"</span></span><br><span class="line"><span class="attr">font-4</span> = <span class="string">"Ubuntu Nerd Font:size=24:antialias=false;1"</span></span><br><span class="line"><span class="attr">font-5</span> = FontAwesome:size=<span class="number">24</span>;<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="attr">modules-left</span> = </span><br><span class="line"><span class="attr">modules-center</span> =</span><br><span class="line"><span class="attr">modules-right</span> = date volume eth power<span class="literal">off</span> </span><br><span class="line"><span class="attr">module-margin</span> = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">;left - center - right - none</span></span><br><span class="line"><span class="attr">tray-position</span> = none</span><br><span class="line"><span class="attr">tray-maxsize</span> = <span class="number">24</span></span><br><span class="line"><span class="attr">tray-detached</span> = <span class="literal">false</span></span><br><span class="line"><span class="attr">tray-transparent</span> = <span class="literal">false</span></span><br><span class="line"><span class="attr">tray-padding</span> = <span class="number">2</span></span><br><span class="line"><span class="attr">tray-scale</span> = <span class="number">1.0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">override-redirect</span> = <span class="literal">true</span></span><br><span class="line"><span class="attr">offset-x</span> = <span class="number">2900</span></span><br><span class="line"><span class="attr">offset-y</span> = <span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="attr">padding</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="attr">wm-name</span> = bar</span><br><span class="line"></span><br><span class="line"><span class="comment">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</span></span><br><span class="line"></span><br><span class="line"><span class="section">[module/date]</span></span><br><span class="line"><span class="attr">type</span> = internal/date</span><br><span class="line"><span class="attr">interval</span> = <span class="number">60</span></span><br><span class="line"><span class="attr">date</span> = %a %d %b</span><br><span class="line"><span class="attr">time</span> = %l:%M %p</span><br><span class="line"><span class="attr">label</span> =    %date%      %time%</span><br><span class="line"><span class="comment">;label =  %time%</span></span><br><span class="line"><span class="attr">format-padding</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="section">[module/volume]</span></span><br><span class="line"><span class="attr">type</span> = internal/volume</span><br><span class="line"><span class="attr">format-volume</span> =   &lt;ramp-volume&gt;  &lt;label-volume&gt;</span><br><span class="line"><span class="attr">format-muted</span> = <span class="number">0</span>% </span><br><span class="line"><span class="attr">ramp-volume-0</span> = </span><br><span class="line"><span class="attr">ramp-volume-1</span> = </span><br><span class="line"><span class="attr">ramp-volume-2</span> =  </span><br><span class="line"></span><br><span class="line"><span class="section">[module/poweroff]</span></span><br><span class="line"><span class="attr">type</span> = custom/script</span><br><span class="line"><span class="attr">exec</span> = echo <span class="string">"  "</span></span><br><span class="line"><span class="attr">click-left</span> = rofi -modi run,drun,window -show drun</span><br><span class="line"><span class="attr">click-right</span> = i3lock-fancy -pg &amp;</span><br><span class="line"><span class="attr">click-middle</span> = /usr/bin/rofi-logout</span><br><span class="line"><span class="attr">format-padding</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="section">[module/rofi]</span></span><br><span class="line"><span class="attr">type</span> = custom/script</span><br><span class="line"><span class="attr">exec</span> = echo <span class="string">"  "</span></span><br><span class="line"><span class="attr">click-left</span> = rofi -modi run,drun,window -show drun</span><br><span class="line"><span class="attr">format-padding</span> = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="section">[module/eth]</span></span><br><span class="line"><span class="attr">type</span> = internal/network</span><br><span class="line"><span class="attr">interface</span> = enp2s0</span><br><span class="line"><span class="attr">interval</span> = <span class="number">3.0</span></span><br><span class="line"><span class="attr">format-connected</span> = &lt;label-connected&gt;</span><br><span class="line"><span class="attr">format-connected-prefix</span> = <span class="string">"  "</span></span><br><span class="line"><span class="attr">format-connected-prefix-foreground</span> = #b6a49b</span><br><span class="line"><span class="attr">label-connected</span> = %downspeed:<span class="number">9</span>%</span><br><span class="line"><span class="attr">format-disconnected</span> = &lt;label-disconnected&gt;</span><br><span class="line"><span class="attr">label-disconnected</span> = not connected</span><br><span class="line"><span class="attr">label-disconnected-foreground</span> = #<span class="number">66</span>ffffff</span><br><span class="line"><span class="attr">format-padding</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<div style="text-align:center"><small>Code adapted from ref</small></div>

<p>可以看到，配置文件前半部分为 bar 本身的配置：位置，大小，颜色等等。后半部分则是对应模块的配置。其中，我们看到的一些字符未显示，那是由于我的本地并没有可以显示它的字体。其中的乱码主要是 <a href="https://fontawesome.com/how-to-use/on-the-desktop/setup/getting-started" target="_blank" rel="noopener">Font Awesome</a> 字体，首先我们得安装该字体。看看这个 bar 到底能不能如预期一样正常显示。</p>
<p>执行<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">polybar bar</span><br></pre></td></tr></table></figure></p>
<p>来运行配置文件中的 bar，其中“bar”为自定义的名字，在上面的配置文件中，这个 bar 的名字就是 “bar”。（参见<code>[bar/bar]</code>）</p>
<p>不知道是什么原因，运行没有报错，但是我却看不见 bar 在哪里。╮(╯_╰)╭ 可能是它画在了屏幕之外的地方。于是我就将上面的参数改了改，终于，我看到了着个可爱又迷人的 bar 出现在我的桌面上。不过还是有几处乱码，可能是我安装的 Font Awesome 支持的字符不完整吧。</p>
<p>然后就开始了漫长的折腾过程，循着错误信息去改对应的地方，然后看效果。再微调，再看效果，直到满意为止。</p>
<p>下面是我调整完成的样子：<br><img src="https://s2.ax1x.com/2019/01/16/kSXd9s.png" alt="kSXd9s.png"></p>
<h2 id="了解构造"><a href="#了解构造" class="headerlink" title="了解构造"></a>了解构造</h2><p>其实通过配置文件，我们可以学到很多东西。当然，前提是要有一个好的蓝本给你看。这就不得不提 polybar 的 <a href="https://github.com/jaagr/polybar/wiki" target="_blank" rel="noopener">wiki</a>，以及作者给出的一些<a href="https://github.com/jaagr/dots/tree/master/.config/polybar/testing" target="_blank" rel="noopener">示例</a>了。</p>
<p>好了，现在蓝本已经有了。我想添加一个新的模块：比如现在的 Wi-Fi 模块只有下行速度，我要加一个上行速度，并且加上下行箭头。参照 wiki 中的 network 模块，我们可以修改如下：<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[module/wlan]</span></span><br><span class="line"><span class="attr">type</span> = internal/network</span><br><span class="line"><span class="attr">interface</span> = wlp2s0</span><br><span class="line"><span class="attr">interval</span> = <span class="number">3.0</span></span><br><span class="line"><span class="attr">format-connected</span> = &lt;label-connected&gt;</span><br><span class="line"><span class="attr">format-connected-prefix</span> = <span class="string">" "</span></span><br><span class="line"><span class="attr">format-connected-prefix-foreground</span> = #b6a49b</span><br><span class="line"><span class="attr">label-connected</span> = %upspeed:<span class="number">5</span>% %downspeed:<span class="number">5</span>%</span><br><span class="line"><span class="attr">format-disconnected</span> = &lt;label-disconnected&gt;</span><br><span class="line"><span class="attr">label-disconnected</span> = not connected</span><br><span class="line"><span class="attr">label-disconnected-foreground</span> = #<span class="number">66</span>ffffff</span><br><span class="line"><span class="attr">format-padding</span> = <span class="number">0</span></span><br></pre></td></tr></table></figure></p>
<p>可以看到，被改动的实际上只有一行：<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">; before</span></span><br><span class="line"><span class="attr">label-connected</span> = %downspeed:<span class="number">9</span>%</span><br><span class="line"><span class="comment">; after</span></span><br><span class="line"><span class="attr">label-connected</span> = %upspeed:<span class="number">5</span>% %downspeed:<span class="number">5</span>%</span><br></pre></td></tr></table></figure></p>
<p>这样就完成了所期望的改变。</p>
<blockquote>
<p>Note: 要输入 Font Awesome 字符，可以打开官网的字符集 <a href="https://fontawesome.com/cheatsheet?from=io" target="_blank" rel="noopener">cheatsheet</a>，然后直接复制到编辑器中。<br><img src="https://s2.ax1x.com/2019/01/17/kpFFm9.png" alt="kpFFm9.png"><br>例如，通过浏览器搜索找到上行箭头，复制之。</p>
<p>另外如果使用 vim，可以直接输入对应的十六进制编码来完成字符的输入。比如，我要输入上行箭头（fa-arrow-up），它的十六进制码为 <code>f062</code>（在 cheatsheet 中可查）：</p>
<ol>
<li>按 <code>i</code> 进入插入模式</li>
<li>按 <kbd>Ctrl</kbd> + <kbd>v</kbd></li>
<li>按 <code>u</code> 进入十六进制输入模式</li>
<li>输入 <code>f062</code></li>
<li>按 <kbd>Esc</kbd> 返回正常模式</li>
</ol>
<p>inputing… <i class="fa fa-arrow-up"> </i></p>
<p>另，<code>:help i_CTRL-V_digit</code><br>In insert-mode, type control+V followed by</p>
<ul>
<li><code>a</code> decimal number</li>
<li><code>x</code> then a hex number</li>
<li><code>u</code> then a 4-hexchar unicode sequence</li>
<li><code>U</code> then an 8-hexchar unicode sequence</li>
</ul>
</blockquote>
<h2 id="摄入取景"><a href="#摄入取景" class="headerlink" title="摄入取景"></a>摄入取景</h2><p>好了，通过上面的一点小小的改动，我们已经大致了解 polybar 的配置方式了。现在，通过一步一步加模块，我们会更进一步的了解它的工作方式。建议每添加一个模块前，先读一读 wiki 上对应模块的设置。然后找一个不错的模板进行改动。</p>
<h3 id="内存和-CPU-模块"><a href="#内存和-CPU-模块" class="headerlink" title="内存和 CPU 模块"></a>内存和 CPU 模块</h3><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;;; CPU usage &#123;&#123;&#123;</span></span><br><span class="line"><span class="section">[module/cpu]</span></span><br><span class="line"><span class="attr">type</span> = internal/cpu</span><br><span class="line"></span><br><span class="line"><span class="comment">; Seconds to sleep between updates</span></span><br><span class="line"><span class="comment">; Default: 1</span></span><br><span class="line"><span class="attr">interval</span> = <span class="number">3.0</span></span><br><span class="line"><span class="comment">; Available tags:</span></span><br><span class="line"><span class="comment">;   &lt;label&gt; (default)</span></span><br><span class="line"><span class="comment">;   &lt;bar-load&gt;</span></span><br><span class="line"><span class="comment">;   &lt;ramp-load&gt;</span></span><br><span class="line"><span class="comment">;   &lt;ramp-coreload&gt;</span></span><br><span class="line"><span class="attr">format</span> = &lt;label&gt;&lt;ramp-load&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">; Available tokens:</span></span><br><span class="line"><span class="comment">;   %percentage% (default) - total cpu load averaged over all cores</span></span><br><span class="line"><span class="comment">;   %percentage-sum% - Cumulative load on all cores</span></span><br><span class="line"><span class="comment">;   %percentage-cores% - load percentage for each core</span></span><br><span class="line"><span class="comment">;   %percentage-core[1-9]% - load percentage for specific core</span></span><br><span class="line"><span class="attr">label</span> = CPU %percentage%%</span><br><span class="line"><span class="comment">;label-font = 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">; Spacing between individual per-core ramps</span></span><br><span class="line"><span class="attr">ramp-coreload-spacing</span> = <span class="number">1</span></span><br><span class="line"><span class="attr">ramp-coreload-0</span> = ▁</span><br><span class="line"><span class="attr">ramp-coreload-1</span> = ▂</span><br><span class="line"><span class="attr">ramp-coreload-2</span> = ▃</span><br><span class="line"><span class="attr">ramp-coreload-3</span> = ▄</span><br><span class="line"><span class="attr">ramp-coreload-4</span> = ▅</span><br><span class="line"><span class="attr">ramp-coreload-5</span> = ▆</span><br><span class="line"><span class="attr">ramp-coreload-6</span> = ▇</span><br><span class="line"><span class="attr">ramp-coreload-7</span> = █</span><br><span class="line"></span><br><span class="line"><span class="comment">; ramps for ramp-load</span></span><br><span class="line"><span class="attr">ramp-load-0</span> = ▁</span><br><span class="line"><span class="attr">ramp-load-1</span> = ▂</span><br><span class="line"><span class="attr">ramp-load-2</span> = ▃</span><br><span class="line"><span class="attr">ramp-load-3</span> = ▄</span><br><span class="line"><span class="attr">ramp-load-4</span> = ▅</span><br><span class="line"><span class="attr">ramp-load-5</span> = ▆</span><br><span class="line"><span class="attr">ramp-load-6</span> = ▇</span><br><span class="line"><span class="attr">ramp-load-7</span> = █</span><br><span class="line"><span class="comment">; colors for each ramp</span></span><br><span class="line"><span class="attr">ramp-load-0-foreground</span> = #aaff77</span><br><span class="line"><span class="attr">ramp-load-1-foreground</span> = #aaff77</span><br><span class="line"><span class="attr">ramp-load-2-foreground</span> = #aaff77</span><br><span class="line"><span class="attr">ramp-load-3-foreground</span> = #aaff77</span><br><span class="line"><span class="attr">ramp-load-4-foreground</span> = #fba922</span><br><span class="line"><span class="attr">ramp-load-5-foreground</span> = #fba922</span><br><span class="line"><span class="attr">ramp-load-6-foreground</span> = #ff5555</span><br><span class="line"><span class="attr">ramp-load-7-foreground</span> = #ff5555</span><br><span class="line"><span class="comment">;;; &#125;&#125;&#125;</span></span><br></pre></td></tr></table></figure>
<p>首先看到输出的格式为<code>format = &lt;label&gt;&lt;ramp-load&gt;</code>，说明它会输出<code>&lt;label&gt;</code>的值以及<code>&lt;ramp-load&gt;</code>的值。好的，那我们先看一眼<code>&lt;label&gt;</code>是啥？<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">label</span> = CPU %percentage%%</span><br></pre></td></tr></table></figure></p>
<p>顾名思义，它会输出CPU加一个变量，这个变量是一个百分比，就是当前CPU的平均使用率。可选的变量已经在 wiki 中给出。想要什么自己替换就行。</p>
<p>再来看看第二部分，<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ramp-load-0</span> = ▁</span><br><span class="line"><span class="attr">ramp-load-1</span> = ▂</span><br><span class="line"><span class="attr">ramp-load-2</span> = ▃</span><br><span class="line"><span class="attr">ramp-load-3</span> = ▄</span><br><span class="line"><span class="attr">ramp-load-4</span> = ▅</span><br><span class="line"><span class="attr">ramp-load-5</span> = ▆</span><br><span class="line"><span class="attr">ramp-load-6</span> = ▇</span><br><span class="line"><span class="attr">ramp-load-7</span> = █</span><br></pre></td></tr></table></figure></p>
<p><code>ramp-load</code>共有7个值，他会根据CPU使用率选择合适的值。简而言之，就是将100分成7个等级，使用率越高，就选用等级越高的图案显示。整合起来的效果就是随着百分比增加，显示的高度越高，类似一个性能监视窗，上下浮动。</p>
<p>这还不够，我们还可以做一点微小的工作。请看<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ramp-load-0-foreground</span> = #aaff77</span><br><span class="line"><span class="attr">ramp-load-1-foreground</span> = #aaff77</span><br><span class="line"><span class="attr">ramp-load-2-foreground</span> = #aaff77</span><br><span class="line"><span class="attr">ramp-load-3-foreground</span> = #aaff77</span><br><span class="line"><span class="attr">ramp-load-4-foreground</span> = #fba922</span><br><span class="line"><span class="attr">ramp-load-5-foreground</span> = #fba922</span><br><span class="line"><span class="attr">ramp-load-6-foreground</span> = #ff5555</span><br><span class="line"><span class="attr">ramp-load-7-foreground</span> = #ff5555</span><br></pre></td></tr></table></figure></p>
<p>这里我们定义了每个等级展示字符的前景色。等级越高，颜色越红，表示警告CPU使用快超标了！这样整个变化就有了颜色相伴，更加直观！最后完成的效果如下：<br><img src="https://s2.ax1x.com/2019/01/17/kpVXGt.gif" alt="kpVXGt.gif"></p>
<p>内存模块也是类似的。先看一下配置，<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[module/memory]</span></span><br><span class="line"><span class="attr">type</span> = internal/memory</span><br><span class="line"></span><br><span class="line"><span class="comment">; Seconds to sleep between updates</span></span><br><span class="line"><span class="comment">; Default: 1</span></span><br><span class="line"><span class="attr">interval</span> = <span class="number">3.0</span></span><br><span class="line"><span class="comment">; Available tags:</span></span><br><span class="line"><span class="comment">;   &lt;label&gt; (default)</span></span><br><span class="line"><span class="comment">;   &lt;bar-used&gt;</span></span><br><span class="line"><span class="comment">;   &lt;bar-free&gt;</span></span><br><span class="line"><span class="comment">;   &lt;ramp-used&gt;</span></span><br><span class="line"><span class="comment">;   &lt;ramp-free&gt;</span></span><br><span class="line"><span class="comment">;   &lt;bar-swap-used&gt;</span></span><br><span class="line"><span class="comment">;   &lt;bar-swap-free&gt;</span></span><br><span class="line"><span class="comment">;   &lt;ramp-swap-used&gt;</span></span><br><span class="line"><span class="comment">;   &lt;ramp-swap-free&gt;</span></span><br><span class="line"><span class="attr">format</span> = &lt;label&gt;&lt;ramp-used&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">; Available tokens:</span></span><br><span class="line"><span class="comment">;   %percentage_used% (default)</span></span><br><span class="line"><span class="comment">;   %percentage_free%</span></span><br><span class="line"><span class="comment">;   %gb_used%</span></span><br><span class="line"><span class="comment">;   %gb_free%</span></span><br><span class="line"><span class="comment">;   %gb_total%</span></span><br><span class="line"><span class="comment">;   %mb_used%</span></span><br><span class="line"><span class="comment">;   %mb_free%</span></span><br><span class="line"><span class="comment">;   %mb_total%</span></span><br><span class="line"><span class="comment">;   %percentage_swap_used%</span></span><br><span class="line"><span class="comment">;   %percentage_swap_free%</span></span><br><span class="line"><span class="comment">;   %mb_swap_total%</span></span><br><span class="line"><span class="comment">;   %mb_swap_free%</span></span><br><span class="line"><span class="comment">;   %mb_swap_used%</span></span><br><span class="line"><span class="comment">;   %gb_swap_total%</span></span><br><span class="line"><span class="comment">;   %gb_swap_free%</span></span><br><span class="line"><span class="comment">;   %gb_swap_used%</span></span><br><span class="line"></span><br><span class="line"><span class="attr">label</span> = RAM %percentage_used%%</span><br><span class="line"><span class="comment">;label-font = 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">; Only applies if &lt;bar-used&gt; is used</span></span><br><span class="line"><span class="attr">bar-used-indicator</span> =</span><br><span class="line"><span class="attr">bar-used-width</span> = <span class="number">50</span></span><br><span class="line"><span class="attr">bar-used-foreground-0</span> = #<span class="number">55</span>aa55</span><br><span class="line"><span class="attr">bar-used-foreground-1</span> = #<span class="number">557755</span></span><br><span class="line"><span class="attr">bar-used-foreground-2</span> = #f5a70a</span><br><span class="line"><span class="attr">bar-used-foreground-3</span> = #ff5555</span><br><span class="line"><span class="attr">bar-used-fill</span> = ▐</span><br><span class="line"><span class="attr">bar-used-empty</span> = ▐</span><br><span class="line"><span class="attr">bar-used-empty-foreground</span> = #<span class="number">444444</span></span><br><span class="line"></span><br><span class="line"><span class="comment">; Only applies if &lt;ramp-used&gt; is used</span></span><br><span class="line"><span class="attr">ramp-used-0</span> = ▁</span><br><span class="line"><span class="attr">ramp-used-1</span> = ▂</span><br><span class="line"><span class="attr">ramp-used-2</span> = ▃</span><br><span class="line"><span class="attr">ramp-used-3</span> = ▄</span><br><span class="line"><span class="attr">ramp-used-4</span> = ▅</span><br><span class="line"><span class="attr">ramp-used-5</span> = ▆</span><br><span class="line"><span class="attr">ramp-used-6</span> = ▇</span><br><span class="line"><span class="attr">ramp-used-7</span> = █</span><br><span class="line"><span class="attr">ramp-used-0-foreground</span> = #aaff77</span><br><span class="line"><span class="attr">ramp-used-1-foreground</span> = #aaff77</span><br><span class="line"><span class="attr">ramp-used-2-foreground</span> = #aaff77</span><br><span class="line"><span class="attr">ramp-used-3-foreground</span> = #aaff77</span><br><span class="line"><span class="attr">ramp-used-4-foreground</span> = #fba922</span><br><span class="line"><span class="attr">ramp-used-5-foreground</span> = #fba922</span><br><span class="line"><span class="attr">ramp-used-6-foreground</span> = #ff5555</span><br><span class="line"><span class="attr">ramp-used-7-foreground</span> = #ff5555</span><br><span class="line"></span><br><span class="line"><span class="comment">; Only applies if &lt;ramp-free&gt; is used</span></span><br><span class="line"><span class="attr">ramp-free-0</span> = ▁</span><br><span class="line"><span class="attr">ramp-free-1</span> = ▂</span><br><span class="line"><span class="attr">ramp-free-2</span> = ▃</span><br><span class="line"><span class="attr">ramp-free-3</span> = ▄</span><br><span class="line"><span class="attr">ramp-free-4</span> = ▅</span><br><span class="line"><span class="attr">ramp-free-5</span> = ▆</span><br><span class="line"><span class="attr">ramp-free-6</span> = ▇</span><br><span class="line"><span class="attr">ramp-free-7</span> = █</span><br><span class="line"><span class="comment">;;; &#125;&#125;&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>配置出来的效果见<a href="#group-4">上图</a>。</p>
<h3 id="电池模块"><a href="#电池模块" class="headerlink" title="电池模块"></a>电池模块</h3><p>同理可参考 wiki 配置电池模块。<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;;; battery &#123;&#123;&#123;</span></span><br><span class="line"><span class="section">[module/battery]</span></span><br><span class="line"><span class="attr">type</span> = internal/battery</span><br><span class="line"><span class="attr">full-at</span> = <span class="number">98</span></span><br><span class="line"></span><br><span class="line"><span class="attr">format-charging</span> = &lt;animation-charging&gt; &lt;label-charging&gt;</span><br><span class="line"><span class="attr">format-discharging</span> = &lt;ramp-capacity&gt; &lt;label-discharging&gt;</span><br><span class="line"><span class="attr">format-full</span> = %&#123;F#<span class="number">666</span>&#125;%&#123;F#ccfafafa&#125; &lt;label-full&gt;</span><br><span class="line"><span class="comment">#label-charging-font = 3</span></span><br><span class="line"><span class="comment">#label-discharing-font = 3</span></span><br><span class="line"></span><br><span class="line"><span class="attr">ramp-capacity-0</span> = </span><br><span class="line"><span class="attr">ramp-capacity-1</span> = </span><br><span class="line"><span class="attr">ramp-capacity-2</span> = </span><br><span class="line"><span class="comment">; low power alert</span></span><br><span class="line"><span class="attr">ramp-capacity-0-foreground</span> = #ff5555</span><br><span class="line"></span><br><span class="line"><span class="comment">; it will display over the three pattern when charing</span></span><br><span class="line"><span class="comment">; at a framerate 750</span></span><br><span class="line"><span class="comment">; and each has a foreground color</span></span><br><span class="line"><span class="attr">animation-charging-0</span> = </span><br><span class="line"><span class="attr">animation-charging-1</span> = </span><br><span class="line"><span class="attr">animation-charging-2</span> = </span><br><span class="line"><span class="attr">animation-charging-2-foreground</span> = #aaff77</span><br><span class="line"><span class="attr">animation-charging-1-foreground</span> = #fba922</span><br><span class="line"><span class="attr">animation-charging-0-foreground</span> = #ff5555</span><br><span class="line"><span class="attr">animation-charging-framerate</span> = <span class="number">750</span></span><br><span class="line"><span class="comment">;;; &#125;&#125;&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>可以看到电池的显示类型共有三个，<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">format-charging</span> = &lt;animation-charging&gt; &lt;label-charging&gt;</span><br><span class="line"><span class="attr">format-discharging</span> = &lt;ramp-capacity&gt; &lt;label-discharging&gt;</span><br><span class="line"><span class="attr">format-full</span> = %&#123;F#<span class="number">666</span>&#125;%&#123;F#ccfafafa&#125; &lt;label-full&gt;</span><br></pre></td></tr></table></figure></p>
<p>第一个控制了充电时的显示，第二个控制了非充电时的显示，第三个则是满电时的显示。配置语言通俗易懂，比如，充电的时候会显示一个充电动画和电池电量（<code>&lt;label-charing&gt;</code>），其他的可以依次类推。</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">animation-charging-0</span> = </span><br><span class="line"><span class="attr">animation-charging-1</span> = </span><br><span class="line"><span class="attr">animation-charging-2</span> = </span><br><span class="line"><span class="attr">animation-charging-2-foreground</span> = #aaff77</span><br><span class="line"><span class="attr">animation-charging-1-foreground</span> = #fba922</span><br><span class="line"><span class="attr">animation-charging-0-foreground</span> = #ff5555</span><br><span class="line"><span class="attr">animation-charging-framerate</span> = <span class="number">750</span></span><br></pre></td></tr></table></figure>
<p>上面这段配置定义了充电时的动画，当你插上电源，电池图标会依次按照0、1、2的图案切换。然后每个图案都有各自的前景色，切换的速率是 750. 完成后的效果如下：<br><img src="https://s2.ax1x.com/2019/01/17/kpQbCQ.gif" alt="kpQbCQ.gif"></p>
<h3 id="MPD-模块"><a href="#MPD-模块" class="headerlink" title="MPD 模块"></a>MPD 模块</h3><p><a href="https://www.musicpd.org/" target="_blank" rel="noopener">MPD</a> 全称 Music Player Daemon. </p>
<blockquote>
<p>MPD (music player daemon) is an audio player that has a server-client architecture. It plays audio files, organizes playlists and maintains a music database, all while using very few resources. In order to interface with it, a separate client is needed.</p>
<div style="text-align:right">──adpted from archwiki</div>

</blockquote>
<p>MPD是一个轻量的本地音乐播放框架。需要和客户端（mpc）一起使用。大致分为几步：</p>
<ol>
<li><code>$ mpd</code> 启动 mpd 进程</li>
<li><code>$ mpc add &lt;MusicDir&gt;</code> 添加本地音乐文件夹</li>
<li><code>$ mpc play</code> 开始播放</li>
</ol>
<p>如我们所见，非常轻量。但是 mpc 是命令行工具，使用起来难免有些不顺手。好在 polybar 已经内置了 mpd 模块，我们只需要改改样式就可以了。<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">;;; mpd config &#123;&#123;&#123;</span></span><br><span class="line"><span class="section">[module/mpd]</span></span><br><span class="line"><span class="attr">type</span> = internal/mpd</span><br><span class="line"></span><br><span class="line"><span class="comment">; format-online = &lt;label-song&gt;  &lt;label-time&gt;  &lt;bar-progress&gt;  &lt;icon-prev&gt; &lt;icon-seekb&gt; &lt;icon-stop&gt; &lt;toggle&gt; &lt;icon-seekf&gt; &lt;icon-next&gt;  &lt;icon-repeat&gt; &lt;icon-random&gt;</span></span><br><span class="line"><span class="attr">format-online</span> = &lt;toggle&gt; &lt;label-song&gt; &lt;icon-next&gt;</span><br><span class="line"><span class="attr">format-offline</span> = &lt;label-<span class="literal">off</span>line&gt;</span><br><span class="line"><span class="attr">format-offline-foreground</span> = #<span class="number">66</span></span><br><span class="line"><span class="attr">label-offline</span> = mpd is <span class="literal">off</span></span><br><span class="line"></span><br><span class="line"><span class="attr">label-song-maxlen</span> = <span class="number">20</span></span><br><span class="line"><span class="attr">label-song-font</span> = <span class="number">8</span></span><br><span class="line"></span><br><span class="line"><span class="attr">icon-prev</span> = </span><br><span class="line"><span class="attr">icon-seekb</span> = </span><br><span class="line"><span class="attr">icon-stop</span> = stop</span><br><span class="line"><span class="attr">icon-play</span> = </span><br><span class="line"><span class="attr">icon-pause</span> = </span><br><span class="line"><span class="attr">icon-next</span> = </span><br><span class="line"><span class="attr">icon-seekf</span> = </span><br><span class="line"></span><br><span class="line"><span class="attr">icon-random</span> = </span><br><span class="line"><span class="attr">icon-repeat</span> = </span><br><span class="line"></span><br><span class="line"><span class="attr">toggle-on-foreground</span> = #<span class="number">2278</span>ff</span><br><span class="line"><span class="attr">toggle-off-foreground</span> = #<span class="number">66</span></span><br><span class="line"></span><br><span class="line"><span class="attr">bar-progress-width</span> = <span class="number">15</span></span><br><span class="line"><span class="attr">bar-progress-indicator</span> = </span><br><span class="line"><span class="attr">bar-progress-indicator-foreground</span> = #bb</span><br><span class="line"><span class="attr">bar-progress-fill</span> = ─</span><br><span class="line"><span class="attr">bar-progress-fill-foreground</span> = #bb</span><br><span class="line"><span class="attr">bar-progress-fill-font</span> = <span class="number">3</span></span><br><span class="line"><span class="attr">bar-progress-empty</span> = ─</span><br><span class="line"><span class="attr">bar-progress-empty-foreground</span> = #<span class="number">44</span></span><br><span class="line"><span class="attr">bar-progress-empty-font</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="attr">label-time-foreground</span> = #<span class="number">55</span></span><br><span class="line"><span class="attr">label-time-font</span> = <span class="number">8</span></span><br><span class="line"><span class="comment">;;; &#125;&#125;&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>配置好我们需要的样式就大功告成啦，看一下效果：<br><img src="https://s2.ax1x.com/2019/01/17/kpgZLt.gif" alt="kpgZLt.gif"></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>一路折腾下来，发现 polybar 其实很友好。配置逻辑也非常清晰，有点怀疑自己当初为什么没有配置好它，反而觉得很难用。所以啊，作者写这个软件也不是为了刁难人的，一开始的时候也并没有这么复杂。我们入手呢，就要从作者一开始写出来的那样，能用出最基础的功能就好了。然后需求都是后来加上去的。有用户提，作者考虑做，或者作者自己想到的功能，才会在后面一步步添加上去。最终成为一个功能相对完善的软件。每个东西都有它的学习曲线，我们可能已经适应了平缓的山坡，突然面对一个陡峭的山峰之时，便不好应对了。但是千里之行，始于足下！我们始终要抓住它们最初的样子，或者说雏形，然后想一想它们是如何发展过来的，顺着这条线路走下去，自然觉得一切合情合理，也有勇气和信心去学了！然后当我们学会一个又一个软件之后，或许会发现它们可能有异曲同工之妙。那便是学到了！</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="https://github.com/jaagr/polybar/wiki" target="_blank" rel="noopener">Polybar wiki</a></li>
<li><a href="https://github.com/jaagr/dots/tree/master/.config/polybar/testing" target="_blank" rel="noopener">Polybar example</a></li>
<li><a href="https://www.reddit.com/r/unixporn/comments/5pikkd/how_to_get_polybar_icons_working/" target="_blank" rel="noopener">How to get polybar icons working</a></li>
<li><a href="https://forum.archlabslinux.com/t/show-us-your-polybar/159/10" target="_blank" rel="noopener">Show Us Your Polybar - Artwork / Polybar &amp; Tint2 Configs - ArchLabs Linux</a></li>
</ul>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:guyueshui002@gmail.com">Yychi</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://guyueshui.github.io/blog_archive/2019/01/Polybar-的配置笔记/">https://guyueshui.github.io/blog_archive/2019/01/Polybar-的配置笔记/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/blog_archive/tags/polybar/">polybar</a></div><div class="post-qr-code"><div class="post-qr-code-item"><img class="post-qr-code__img" src="https://s2.ax1x.com/2019/01/18/k9S5a6.png"><div class="post-qr-code__desc">微信：我很贫穷(*/ω＼*)</div></div><div class="post-qr-code-item"><img class="post-qr-code__img" src="https://s2.ax1x.com/2019/01/18/k9SvZt.jpg"><div class="post-qr-code__desc">支付宝：请给我钱(╬ Ò ‸ Ó)</div></div></div><nav id="pagination"><div class="prev-post pull-left"><a href="/blog_archive/2019/02/SICP-Learning-Notes/"><i class="fa fa-chevron-left">  </i><span>SICP Learning Notes</span></a></div><div class="next-post pull-right"><a href="/blog_archive/2019/01/Matrix-Factorization/"><span>Matrix Factorization</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://s2.ax1x.com/2019/02/19/kgD6g0.png)"><div class="layout" id="footer"><div class="copyright">&copy;2018 - 2019 By Yychi</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">Work with <font color="#ffb3d1"><i class="fa fa-heartbeat fa-lg"> </i></font> by yychi</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/blog_archive/js/utils.js?version=1.6.0"></script><script src="/blog_archive/js/fancybox.js?version=1.6.0"></script><script src="/blog_archive/js/sidebar.js?version=1.6.0"></script><script src="/blog_archive/js/copy.js?version=1.6.0"></script><script src="/blog_archive/js/fireworks.js?version=1.6.0"></script><script src="/blog_archive/js/transition.js?version=1.6.0"></script><script src="/blog_archive/js/scroll.js?version=1.6.0"></script><script src="/blog_archive/js/head.js?version=1.6.0"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.bootcss.com/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script><script src="/blog_archive/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"scale":0.7,"jsonPath":"/blog_archive/live2dw/assets/shizuku.model.json"},"display":{"position":"right","width":70,"height":180},"mobile":{"show":false,"scale":0.5},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>